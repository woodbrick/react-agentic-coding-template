<metadata updated="2025-10-05" version="2.0.0" name="异常报告模板">
  <keywords>异常报告, 错误分析, 系统故障, 恢复过程, 根本原因</keywords>
</metadata>

# 🚨 异常报告模板

> 标准化的异常事件分析和处理模板，用于系统性地记录、分析和解决系统异常

## 📋 异常基本信息

<system-reminder>
异常报告必须基于真实的系统监控数据
所有分析必须有可追溯的证据
避免主观猜测，使用客观数据
</system-reminder>

| 异常要素 | 具体内容 | 引用标准 |
|----------|----------|----------|
| **任务名称** | `{{任务名称}}` | 明确问题范围 |
| **技术方案** | `.context/story/[文件]:[行号]` | path:line格式 |
| **异常发生时间** | `{{YYYY-MM-DD HH:mm:ss}}` | ISO8601标准格式 |
| **异常类型** | [系统异常/业务异常/外部依赖异常/配置异常] | 分类准确 |
| **影响范围** | [整个系统/部分功能/单一模块/无影响] | 准确评估 |
| **恢复时间** | `{{YYYY-MM-DD HH:mm:ss}}` | ISO8601标准格式 |
| **执行代理** | `{{代理名称}}` | 识别执行者 |
| **异常ID** | `{{异常ID}}` | 系统生成唯一标识 |
| **相关文件** | `[文件]:[行号]` | path:line格式 |

## 🔍 关键异常信息

### 异常详情

| 项目 | 内容 |
|------|------|
| **异常描述** | `{{异常详细描述}}` |
| **异常堆栈** |
```stacktrace
{{异常堆栈信息}}
```
| **系统状态** |
- 内存使用率: `{{百分比}}%`
- CPU 负载: `{{百分比}}%`
- 网络延迟: `{{数值}}ms`
- 存储空间: `{{剩余}}/{{总容量}}GB`
| **错误代码** | `{{错误代码}}` |

### 关键指标异常
<limitation>
仅记录与异常直接相关的性能指标
避免无关的监控数据
确保指标有明确的基准值对比
</limitation>

| 项目 | 内容 |
|------|------|
| **时间窗口** |
- 发生时间: `{{开始时间}}`
- 持续时间: `{{持续时间}}`分钟
- 峰值异常时间: `{{峰值时间}}`
| **性能指标** |
- 响应时间: 正常 `{{正常值}}ms` → 异常 `{{异常值}}ms`
- 吞吐量: 正常 `{{正常值}}/秒` → 异常 `{{异常值}}/秒`
- 错误率: 正常 `{{正常值}}%` → 异常 `{{异常值}}%`

## 🕵️‍♂️ 失败原因深度分析

### 根本原因分析

| 类型 | 内容 |
|------|------|
| **直接原因** | `{{直接原因1}}` - `.context/[文件]:[行号]` |
| **直接原因** | `{{直接原因2}}` - `.context/[文件]:[行号]` |
| **间接原因** | `{{间接原因1}}` - `.context/[文件]:[行号]` |
| **间接原因** | `{{间接原因2}}` - `.context/[文件]:[行号]` |
| **根本原因** | `{{根本原因描述}}` |


## 🔄 恢复过程记录

### 应急响应

| 项目 | 内容 |
|------|------|
| **发现时间** | `{{发现时间}}` |
| **响应时间** | `{{响应时间}}`分钟 |
| **恢复时间** | `{{恢复时间}}`分钟 |
| **应急措施** |
1. `{{措施1}}`
2. `{{措施2}}`
3. `{{措施3}}`

### 恢复验证
<limitation>
验证必须有具体的测试方法和标准
确保异常已完全解决
验证覆盖所有受影响场景
</limitation>

| 验证类型 | 验证结果 |
|----------|----------|
| **功能验证** | - [ ] 核心功能恢复正常<br>- [ ] 所有功能测试通过<br>- [ ] 性能指标达到正常水平<br>- [ ] 数据一致性验证通过 |
| **监控验证** | - [ ] 告警恢复正常<br>- [ ] 监控指标稳定<br>- [ ] 系统日志无异常 |

## 📈 根本原因根除方案

### 短期解决方案

| 类型 | 内容 |
|------|------|
| **立即修复** | `Edit` + `Read` 操作，具体路径：`.context/[文件]:[行号]` |
| **临时规避** | `{{规避措施1}}` |
| **临时规避** | `{{规避措施2}}` |

### 长期预防措施
<limitation>
仅提出有效的预防措施
避免空洞的建议
每项措施必须有实施方法
</limitation>

| 类型 | 内容 |
|------|------|
| **架构优化** | `.context/rules/[文件]:[行号]` |
| **流程改进** | `.context/rules/[文件]:[行号]` |
| **监控加强** | `.context/rules/[文件]:[行号]` |
| **自动化检查** | `.context/rules/lint-rules.md` |

## 📊 异常趋势分析

| 指标 | 本次 | 上次 | 变化 |
|------|------|------|------|
| **异常总数** | `{{本次异常数}}` | `{{上次异常数}}` | {{变化}} |
| **同类异常** | `{{同类异常数}}` | `{{上次同类数}}` | {{变化}} |
| **高优先级** | `{{高优先级数}}` | `{{上次高优先级数}}` | {{变化}} |
| **已修复** | `{{已修复数}}` | `{{上次已修复数}}` | {{变化}} |

## 📝 经验教训与改进建议

### 经验教训
<capability>
提炼技术、流程和管理层面的经验
避免重复发生类似问题
提供可复用的学习点
</capability>

| 层面 | 教训 |
|------|------|
| **技术层面** | `{{技术教训1}}` |
| **技术层面** | `{{技术教训2}}` |
| **流程层面** | `{{流程教训1}}` |
| **流程层面** | `{{流程教训2}}` |
| **管理层面** | `{{管理教训1}}` |
| **管理层面** | `{{管理教训2}}` |

### 改进建议
<limitation>
仅提出可执行的改进建议
避免模糊的愿景
每项建议必须有负责人和时间表
</limitation>

| 类型 | 内容 |
|------|------|
| **立即执行** | `Edit` + `Read` 操作，具体路径：`.context/[文件]:[行号]` |
| **立即执行** | `.context/rules/[文件]:[行号]` |
| **短期规划** | `.context/rules/[文件]:[行号]` |
| **短期规划** | `.context/rules/[文件]:[行号]` |
| **长期规划** | `.context/rules/[文件]:[行号]` |
| **长期规划** | `.context/rules/[文件]:[行号]` |

---

**异常报告原则**：
- **ALWAYS**：基于真实日志和可验证的证据
- **NEVER**：基于主观猜测或模糊描述
- **IMPORTANT**：所有解决方案必须有明确的实施方法和验收标准
