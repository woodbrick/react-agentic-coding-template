# {{任务名称}} - 详细执行任务文档

> **任务ID**: `TASK_{{任务名称}}_{{开始时间}}_{{工作流名称}}_{{执行人}}`

---

## 📋 基础信息

| 项目         | 内容                |
| ------------ | ------------------- |
| **任务名称** | {{任务名称}}        |
| **PRP 方案** | {{PRP方案名称}}     |
| **开始时间** | {{开始时间}}        |
| **结束时间** | {{结束时间}}        |
| **执行时长** | {{总耗时}}分钟      |
| **当前状态** | {{状态}}            |

## 🔄 分阶段执行指令

### 🚩 阶段 1：任务分解与规划

**状态**: {{阶段1状态}} **时间**: {{阶段1结束}}

**执行结果**:

- ✅ 任务目录结构已创建
- ✅ 详细任务文档已编写
- ✅ 6 阶段执行计划已设置

---

### 🔍 阶段 2：代码仓库调研

**状态**: {{阶段2状态}} **时间**: {{阶段2结束}}

**执行结果**:

- ✅ 调研报告文件: `.context/tasks/{{需求名称}}/analysis/codebase-analysis.md`
- 🔄 **缓存复用**: 根据缓存哈希决定是否复用已有分析结果
- 📊 **分析内容**: 已识别 {{组件数量}} 个相关组件，{{工具数量}} 个工具函数

---

### 💻 阶段 3：测试用例和接口设计

**状态**: {{阶段3状态}} **时间**: {{阶段3结束}}

**执行结果**:

- ✅ 测试设计与实现: 采用TDD模式，先编写测试用例
- 📄 测试代码: `src/stores/{{模块}}/__tests__/{{store}}.test.ts`
- 🧩 状态层定义: `src/stores/{{模块}}/{{store}}.ts`
- 🌐 服务层定义: `src/services/{{service}}.ts`
- 📦 类型定义: `src/interfaces/{{module}}.ts`
- ❌ 不实现任何业务逻辑

### 💻 阶段 4：状态层与服务层开发（测试驱动）

**状态**: {{阶段4状态}} **时间**: {{阶段4结束}}

**执行结果**:

- ✅ 基于阶段3的测试用例和接口定义，实现状态层和服务层的具体业务逻辑
- 🧩 状态层实现: `src/stores/{{模块}}/{{store}}.ts`
- 🌐 服务层实现: `src/services/{{service}}.ts`
- ✅ 质量检查: lint 通过，typecheck 通过，test 通过

---

### 🎨 阶段 5：视图层实现与交互集成

**状态**: {{阶段5状态}} **时间**: {{阶段5结束}}

**执行结果**:

- ✅ 组件实现: `src/pages/{{页面}}/index.tsx` 和 `src/components/{{组件}}/index.tsx`
- 🎨 样式文件: `src/styles/{{模块}}.less` 或 `src/pages/{{页面}}/index.less`
- 💡 布局响应: {{响应式设计完成度}}
- 🔗 交互连接: Store 状态与组件属性连接完成
- 🚦 路由配置: 页面路由和导航已配置
- 🖥️ 浏览器调试: 已启动开发服务器，完成功能验证
- ✅ 集成测试: {{测试用例数}}个集成测试通过
- 🔁 事件关联: 状态层与服务层事件关联完成
- ✅ 数据流验证: 功能流程验证完成
- ✅ 构建检查: 构建成功，无编译错误

---

### 📊 阶段 6：应用层整合与构建验证

**状态**: {{阶段6状态}} **时间**: {{阶段6结束}}

**执行结果**:

- ✅ 代码整合: 检查各层级代码完整性和准确性
- ✅ 依赖链路: 验证数据流和事件传递链路
- ✅ 构建验证: 构建成功，无错误
- ✅ 性能检查: 性能指标达标
- ✅ 代码质量: ESLint: 0错误，TypeScript: 0错误

---

### 📈 阶段 7：质量评估与优化

**状态**: {{阶段7状态}} **时间**: {{阶段7结束}}

**执行结果**:

- ✅ 代码一致性: 评估实现与方案的一致性
- ✅ 安全扫描: 检查敏感信息和安全漏洞
- ✅ 总体评估: {{评估建议}}

---

**关键问题**: {{关键问题说明}}
